<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <header><h1>Ansatte</h1></header>
    <h3>Søk etter avdeling</h3>

    <main id="output">

        <section id="department-container">
            <label>Avdeling</label>
            <select id="department-select">
                <option value="Support">Support</option>
                <option value="HR">HR</option>
                <option value="Marketing">Marketing</option>
            </select>
            <input id="search-btn" type="button" value="Søk"></input>
        </section>

        <section id="employees-section"></section>
       
    </main>

    <script>

        //HTML objects
        const departmentSelect = document.getElementById("department-select");
        const searchBtn = document.getElementById("search-btn");
        const employeeSection = document.getElementById("employees-section");

        // Variables

        const employeesArray = [
            {
            Name: "Yoshi",
            Department: "Support"
            },

            {
            Name: "Luigi",
            Department: "Support"
            },

            {
            Name: "Mario",
            Department: "Support"
            }, 
            {
                Name: "Even",
                Department: "HR"
            },

            {
                Name: "Solveig",
                Department: "HR" 
            },
        
            {
                Name: "Trond",
                Department: "Marketing"
            },

            {
                Name: "Christian",
                Department: "Marketing"
            }
        ];

        let departmentChoice;
        let chosenEmployees;

       // functions

       const search = () =>{
            departmentChoice = departmentSelect.value;
            chosenEmployees = employeesArray.filter(
                employee => employee.department === departmentChoice);

                let htmlTxt = "";

                chosenEmployees.forEach(employee => {
                    htmlTxt += `
                    <article>
						<h3>${ employee.Name} </h3>
						<p>Department: ${ employee.Department }</p>
					</article>
				`;

                })
            employeeSection.innerHTML = htmlTxt;
        
       }

       // Events
       searchBtn.onclick = search;
     

    </script>
</body>
</html>